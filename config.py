class Config:
    # Основные настройки
    REGION = "Санкт-Петербург"
    CITY_2GIS = "spb"

    # Настройки nodriver
    NODRIVER = {
        'headless': False,  # False для отладки
        'window_size': (1280, 720),
        'timeout': 30000,
    }

    # Поля для парсинга (двухстрочный заголовок Excel)
    EXCEL_FIELDS = [
        # Базовые колонки (первая строка заголовка)
        'Объект',
        'Координаты',
        'Название объекта',
        'Ссылка',
        'Фото объекта',
        'Тип объекта',
        'Адрес',
        'Телефон',
        'Сайт',
        'Адрес электронной почты',
        'Парковка',
        'Ссылка на парковку',
        'Название парковки',
        'Оценка парковки',
        'Количество оценок',
        'Адрес парковки',
        'Время работы парковки',
        'Тип парковки',
        'Тарифы',
        'Доступ',
        'Вместимость',
        'Отзывы о парковке',
        'Цены',
        'Фото парковки',
        'Описание на основе Яндекс Карт'
    ]

    # Вторая строка заголовка - источники для каждой колонки
    EXCEL_SOURCES = {
        'Объект': ['Яндекс Карты', '2ГИС'],
        'Координаты': ['Яндекс Карты', '2ГИС'],
        'Название объекта': ['Яндекс Карты', '2ГИС'],
        'Ссылка': ['Яндекс Карты', '2ГИС'],
        'Фото объекта': ['Яндекс Карты', '2ГИС'],
        'Тип объекта': ['Яндекс Карты', '2ГИС'],
        'Адрес': ['Яндекс Карты', '2ГИС'],
        'Телефон': ['Яндекс Карты', '2ГИС'],
        'Сайт': ['Яндекс Карты', '2ГИС'],
        'Адрес электронной почты': ['Яндекс Карты', '2ГИС'],
        'Парковка': ['Яндекс Карты', '2ГИС'],
        'Ссылка на парковку': ['Яндекс Карты', '2ГИС'],
        'Название парковки': ['Яндекс Карты', '2ГИС'],
        'Оценка парковки': ['Яндекс Карты', '2ГИС'],
        'Количество оценок': ['Яндекс Карты', '2ГИС'],
        'Адрес парковки': ['Яндекс Карты', '2ГИС'],
        'Время работы парковки': ['Яндекс Карты', '2ГИС'],
        'Тип парковки': ['Яндекс Карты', '2ГИС'],
        'Тарифы': ['Яндекс Карты', '2ГИС'],
        'Доступ': ['Яндекс Карты', '2ГИС'],
        'Вместимость': ['Яндекс Карты', '2ГИС'],
        'Отзывы о парковке': ['Яндекс Карты', '2ГИС'],
        'Цены': ['Яндекс Карты', '2ГИС'],
        'Фото парковки': ['Яндекс Карты', '2ГИС'],
        'Описание на основе Яндекс Карт': ['Яндекс Карты', '2ГИС']
    }

    # Маппинг полей из парсеров к колонкам Excel
    FIELD_MAPPING = {
        # Координаты
        'Координаты': 'Координаты',
        'latitude': 'Координаты',
        'longitude': 'Координаты',

        # Основная информация
        'Название объекта': 'Название объекта',
        'Ссылка': 'Ссылка',
        'Тип объекта': 'Тип объекта',
        'Адрес': 'Адрес',
        'Телефон': 'Телефон',
        'Сайт': 'Сайт',
        'Адрес электронной почты': 'Адрес электронной почты',

        # Парковка
        'Название парковки': 'Название парковки',
        'Ссылка на парковку': 'Ссылка на парковку',
        'Оценка парковки': 'Оценка парковки',
        'Количество оценок': 'Количество оценок',
        'Адрес парковки': 'Адрес парковки',
        'Время работы парковки': 'Время работы парковки',
        'Тип парковки': 'Тип парковки',
        'Тарифы': 'Тарифы',
        'Доступ': 'Доступ',
        'Вместимость': 'Вместимость',
        'Отзывы о парковке': 'Отзывы о парковке',
        'Отзывы о парковки': 'Отзывы о парковке',
        'Цены': 'Цены',
        'Описание': 'Описание на основе Яндекс Карт',
        'Описание парковки': 'Описание на основе Яндекс Карт',

        # Дополнительные
        'source': 'source',
        'timestamp': 'timestamp',
        'timestamp_parsed': 'timestamp'
    }

    # Поля которые должны быть у каждого парсера
    REQUIRED_FIELDS = [
        'Название объекта',
        'Координаты',
        'Адрес',
        'Тип парковки',
        'Ссылка',
        'Телефон',
        'Сайт',
        'Тарифы',
        'Время работы',
        'Вместимость',
        'Оценка',
        'Количество оценок',
        'Отзывы',
        'Описание'
    ]

    # Настройки парсинга
    PARSING = {
        'max_parkings': None,  # None - без ограничения
        'coord_tolerance': 0.001,  # Допуск по координатам
        'name_similarity': 0.7,  # Порог схожести названий
        'delay_min': 2,  # Минимальная задержка между запросами (сек)
        'delay_max': 4,  # Максимальная задержка между запросами (сек)
        'scroll_delay_min': 1,  # Минимальная задержка при скроллинге
        'scroll_delay_max': 3,  # Максимальная задержка при скроллинге
        'max_scroll_attempts': 100,  # Максимальное количество попыток скроллинга
        'max_consecutive_no_new': 3,  # Максимально попыток без новых данных
    }

    # Настройки для 2ГИС парсера
    TWOGIS = {
        'base_url': 'https://2gis.ru',
        'search_query': 'парковки',
        'max_pages': 50,  # Максимальное количество страниц для парсинга
        'items_per_page': 50,  # Количество элементов на странице
    }

    # Настройки для Яндекс парсера
    YANDEX = {
        'base_url': 'https://yandex.ru/maps',
        'search_query': 'парковки',
        'city': 'saint-petersburg',
        'region_code': '2',  # 2 для Санкт-Петербурга
    }


config = Config()
